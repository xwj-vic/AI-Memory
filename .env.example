# ========== Redis Configuration ==========
REDIS_ADDR=localhost:6379
REDIS_PASSWORD=
REDIS_DB=0

# ========== LLM Configuration ==========
LLM_PROVIDER=openai

# OpenAI Configuration
OPENAI_API_KEY=sk-your-key-here
OPENAI_BASE_URL=https://api.openai.com/v1
OPENAI_MODEL=gpt-4o-mini
OPENAI_EMBEDDING_MODEL=text-embedding-ada-002

# ========== Vector Store Configuration ==========
# Options: in_memory, qdrant
VECTOR_STORE_PROVIDER=in_memory
QDRANT_ADDR=localhost:6334
QDRANT_COLLECTION=ai_memory

# ========== Database Configuration ==========
DB_HOST=localhost:3306
DB_USER=root
DB_PASS=
DB_NAME=ai_memory

# ========== 漏斗型记忆系统配置 ==========

# STM 短期记忆配置
STM_EXPIRATION_DAYS=7              # STM过期天数（设置为0则不过期）
STM_WINDOW_SIZE=100              # 滑动窗口大小
STM_MAX_RETENTION_DAYS=7         # 最大保留天数
STM_BATCH_JUDGE_SIZE=10          # 批量判定大小

# Staging 暂存区配置
STAGING_MIN_OCCURRENCES=2        # 最小出现次数（需要重复出现才晋升）
STAGING_MIN_WAIT_HOURS=48        # 最小等待时长（小时）
STAGING_VALUE_THRESHOLD=0.6      # 价值分数阈值（0.0-1.0）
STAGING_CONFIDENCE_HIGH=0.8      # 高信心阈值（自动晋升）
STAGING_CONFIDENCE_LOW=0.5       # 低信心阈值（低于此直接删除）

# LTM 长期记忆衰减配置
LTM_DECAY_HALF_LIFE_DAYS=90      # 衰减半衰期（天）
LTM_DECAY_MIN_SCORE=0.3          # 删除阈值（低于此分数则遗忘）

# LLM 判定模型配置
JUDGE_MODEL=gpt-4o-mini          # 判定模型（建议用便宜模型）
EXTRACT_TAGS_MODEL=gpt-4o        # 标签提取模型（建议用强大模型）
# ========== 监控系统配置 ==========

# 指标持久化配置
METRICS_PERSIST_INTERVAL_MINUTES=1    # 指标持久化频率（分钟）
METRICS_HISTORY_LOAD_HOURS=24         # 启动时加载历史数据范围（小时）
METRICS_MEMORY_RETENTION_HOURS=1      # 内存中保留数据时长（小时）
METRICS_RETENTION_DAYS=30            

# ========== 告警配置 ==========
# 告警检查频率（分钟）
ALERT_CHECK_INTERVAL_MINUTES=1
# 保留的告警历史记录数量
ALERT_HISTORY_MAX_SIZE=100
# 前端自动刷新间隔（秒）
ALERT_FRONTEND_REFRESH_INTERVAL=30k
# 前端显示的告警数量
ALERT_FRONTEND_MAX_DISPLAY=50

# 前端刷新配置
DASHBOARD_REFRESH_INTERVAL_SECONDS=10 # 前端自动刷新间隔（秒）
DASHBOARD_ALERT_DISPLAY_COUNT=5       # 前端显示的告警数量

# ========== 告警通知配置 ==========

# Webhook通知（企业微信/钉钉/Slack等）
ALERT_WEBHOOK_ENABLED=false                          # 是否启用Webhook通知
ALERT_WEBHOOK_URL=                                   # Webhook URL（如企业微信机器人地址）
ALERT_WEBHOOK_TIMEOUT_SECONDS=5                      # Webhook请求超时时间（秒）
# 示例：企业微信机器人 https://qyapi.weixin.qq.com/cgi-bin/webhook/send?key=xxx
# 示例：钉钉机器人 https://oapi.dingtalk.com/robot/send?access_token=xxx

# 邮件通知
ALERT_EMAIL_ENABLED=false                            # 是否启用邮件通知
ALERT_EMAIL_SMTP_HOST=smtp.example.com               # SMTP服务器地址
ALERT_EMAIL_SMTP_PORT=587                            # SMTP端口（587=TLS, 465=SSL, 25=明文）
ALERT_EMAIL_USERNAME=alert@example.com               # 发件邮箱
ALERT_EMAIL_PASSWORD=                                # 邮箱密码或授权码
ALERT_EMAIL_FROM=AI-Memory Alert <alert@example.com> # 发件人名称
ALERT_EMAIL_TO=admin@example.com                     # 收件人（多个用逗号分隔）
ALERT_EMAIL_USE_TLS=true                             # 是否使用TLS加密

# 通知级别控制（哪些级别的告警需要发送通知）
ALERT_NOTIFY_LEVELS=ERROR,WARNING                    # 需要通知的告警级别（逗号分隔：ERROR,WARNING,INFO）
